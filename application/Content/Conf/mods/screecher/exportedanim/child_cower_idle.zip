pe="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">2</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.varchar">
        <value type="int" key="characterMaximumLength">8000</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags">
        </value>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.string</link>
        <value type="string" key="name">VARCHAR</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">2</value>                            <!-- 1 was the old value. MSSQL does accept VARCHAR[(n)] -->
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.nchar">
        <value type="int" key="characterMaximumLength">4000</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags">
        </value>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.string</link>
        <value type="string" key="name">NCHAR</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">2</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.nvarchar">
        <value type="int" key="characterMaximumLength">4000</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags">
        </value>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.string</link>
        <value type="string" key="name">NVARCHAR</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">1</value>                            <!-- 2 was the old value. MSSQL does accept NVARCHAR[(n)] -->
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>


      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.text">
        <value type="int" key="characterMaximumLength">2147483647</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags">
        </value>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.text</link>
        <value type="string" key="name">TEXT</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">0</value>                            <!-- 2 was the old value. MSSQL doesn't accept TEXT(n) -->
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.ntext">
        <value type="int" key="characterMaximumLength">1073741823</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags">
        </value>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.text</link>
        <value type="string" key="name">NTEXT</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">0</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>


      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.image">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">2147483647</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.blob</link>
        <value type="string" key="name">IMAGE</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="parameterFormatType">0</value>
        <value type="int" key="needsQuotes">1</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.binary">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">8000</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.blob</link>
        <value type="string" key="name">BINARY</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="parameterFormatType">2</value>
        <value type="int" key="needsQuotes">1</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.varbinary">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">8000</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.blob</link>
        <value type="string" key="name">VARBINARY</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="parameterFormatType">2</value>                            <!-- 0 was the old value. MSSQL does accept VARBINARY[(n)] -->
        <value type="int" key="needsQuotes">1</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>


      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.datetime">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">8</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.datetime</link>
        <value type="string" key="name">DATETIME</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">0</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.smalldatetime">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">6</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.datetime</link>
        <value type="string" key="name">SMALLDATETIME</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">0</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.timestamp">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">8</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.datetime</link>
        <value type="string" key="name">TIMESTAMP</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="parameterFormatType">0</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.datetime2">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">8</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.datetime</link>
        <value type="string" key="name">DATETIME2</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="parameterFormatType">2</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.datetimeoffset">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">10</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.datetime</link>
        <value type="string" key="name">DATETIMEOFFSET</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="parameterFormatType">2</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.date">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">3</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.datetime</link>
        <value type="string" key="name">DATE</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="parameterFormatType">0</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.time">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">5</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.datetime</link>
        <value type="string" key="name">TIME</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="parameterFormatType">2</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.bit">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.various</link>
        <value type="string" key="name">BIT</value>
        <value type="int" key="numericPrecision">1</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="parameterFormatType">0</value>                            <!-- 2 was the old value. MSSQL doesn't accept BIT(n) -->
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.money">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.various</link>
        <value type="string" key="name">MONEY</value>
        <value type="int" key="numericPrecision">19</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">4</value>
        <value type="int" key="parameterFormatType">0</value>                            <!-- 6 was the old value. MSSQL doesn't accept MONEY[(n, [m])] -->
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.smallmoney">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.various</link>
        <value type="string" key="name">SMALLMONEY</value>
        <value type="int" key="numericPrecision">10</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">4</value>
        <value type="int" key="parameterFormatType">0</value>                            <!-- 6 was the old value. MSSQL doesn't accept SMALLMONEY[(n, [m])] -->
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.uniqueidentifier">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">16</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.various</link>
        <value type="string" key="name">UNIQUEIDENTIFIER</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="parameterFormatType">2</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.xml">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">2147483647</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.text</link>
        <value type="string" key="name">XML</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="parameterFormatType">0</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.sysname">
        <value type="int" key="characterMaximumLength">160</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags">
        </value>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.string</link>
        <value type="string" key="name">SYSNAME</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">0</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.rowversion">
        <value type="int" key="characterMaximumLength">0</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">8</value>
        <value type="list" content-type="string" key="flags"/>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.datetime</link>
        <value type="string" key="name">ROWVERSION</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="parameterFormatType">0</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.geometry">
        <value type="int" key="characterMaximumLength">999</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags">
        </value>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.string</link>
        <value type="string" key="name">GEOMETRY</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">0</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.geography">
        <value type="int" key="characterMaximumLength">999</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags">
        </value>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.string</link>
        <value type="string" key="name">GEOGRAPHY</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">0</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.hierarchyid">
        <value type="int" key="characterMaximumLength">999</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags">
        </value>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.string</link>
        <value type="string" key="name">HIERARCHYID</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">0</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>
      <value type="object" struct-name="db.mssql.SimpleDatatype" id="com.mysql.rdbms.mssql.datatype.sqlvariant">
        <value type="int" key="characterMaximumLength">999</value>
        <value type="int" key="characterOctetLength">0</value>
        <value type="int" key="dateTimePrecision">0</value>
        <value type="list" content-type="string" key="flags">
        </value>
        <link type="object" key="group">com.mysql.rdbms.common.typegroup.string</link>
        <value type="string" key="name">SQL_VARIANT</value>
        <value type="int" key="numericPrecision">0</value>
        <value type="int" key="numericPrecisionRadix">0</value>
        <value type="int" key="numericScale">0</value>
        <value type="int" key="needsQuotes">1</value>
        <value type="int" key="parameterFormatType">0</value>
        <link type="object" key="owner">com.mysql.rdbms.mssql</link>
      </value>

    </value>
  </value>
</data>
                                                                                                                                                            ·Ø ÎV\Ÿ–D @ &Å\Ÿâ «≥ ¸†\Ÿj ◊Æ Ü4]Ÿî> O ñk]ŸWÑ ·∂ Js]Ÿ†J ⁄F <¬]ŸÛI /û >…]Ÿ0V zP µ ^Ÿ|U ºV ∑ë^ŸK= Âê fJ_ŸI ÜE ﬁ°_Ÿ°M -ä ß–_Ÿe? ˝ê @·`ŸEa ëò ÌaŸùF ˚≥ ÒtaŸi= Éä √aŸ©; ù ◊aŸ¶C *> f[bŸIK ÒÆ ènbŸU *X ÜâbŸàJ ÄF Ô5cŸW_ ?¶ çcŸ˝f =û {∑cŸ‡R S Œ–cŸ@Q †O »ÆdŸgF Yì —ºdŸ÷B ≤4 vUeŸå ?´ ˜xeŸ˘e }† ¢˙eŸÔ< Wç e˛eŸ£Ü G¶ Ü3fŸR bQ jfŸ Z “J etfŸ∏I ZF ?ÑfŸ±h ?ô £ÜfŸdA R7 ì˝fŸ€G Có o^gŸåW ÃV EegŸˇa ˚© õÍgŸ:P ƒO ’ihŸ6P ¿O ﬁiŸP K© R^iŸ<?php
// +----------------------------------------------------------------------
// | ThinkCMF [ WE CAN DO IT MORE SIMPLE ]
// +----------------------------------------------------------------------
// | Copyright (c) 2013-2014 http://www.thinkcmf.com All rights reserved.
// +----------------------------------------------------------------------
// | Author: Tuolaji <479923197@qq.com>
// +----------------------------------------------------------------------
namespace Portal\Controller;
use Common\Controller\AdminbaseController;
class AdminTermController extends AdminbaseController {
	
	protected $terms_model;
	protected $taxonomys=array("article"=>"ÊñáÁ´†","picture"=>"ÂõæÁâá");
	
	function _initialize() {
		parent::_initialize();
		$this->terms_model = D("Portal/Terms");
		$this->assign("taxonomys",$this->taxonomys);
	}
	function index(){
		$result = $this->terms_model->order(array("listorder"=>"asc"))->select();
		
		$tree = new \Tree();
		$tree->icon = array('&nbsp;&nbsp;&nbsp;‚îÇ ', '&nbsp;&nbsp;&nbsp;‚îú‚îÄ ', '&nbsp;&nbsp;&nbsp;‚îî‚îÄ ');
		$tree->nbsp = '&nbsp;&nbsp;&nbsp;';
		foreach ($result as $r) {
			$r['str_manage'] = '<a href="' . U("AdminTerm/add", array("parent" => $r['term_id'])) . '">'.L('ADD_SUB_CATEGORY').'</a> | <a href="' . U("AdminTerm/edit", array("id" => $r['term_id'])) . '">'.L('EDIT').'</a> | <a class="js-ajax-delete" href="' . U("AdminTerm/delete", array("id" => $r['term_id'])) . '">'.L('DELETE').'</a> ';
			$url=U('portal/list/index',array('id'=>$r['term_id']));
			$r['url'] = $url;
			$r['taxonomys'] = $this->taxonomys[$r['taxonomy']];
			$r['id']=$r['term_id'];
			$r['parentid']=$r['parent'];
			$array[] = $r;
		}
		
		$tree->init($array);
		$str = "<tr>
					<td><input name='listorders[\$id]' type='text' size='3' value='\$listorder' class='input input-order'></td>
					<td>\$id</td>
					<td>\$spacer <a href='\$url' target='_blank'>\$name</a></td>
	    			<td>\$taxonomys</td>
					<td>\$str_manage</td>
				</tr>";
		$taxonomys = $tree->get_tree(0, $str);
		$this->assign("taxonomys", $taxonomys);
		$this->display();
	}
	
	
	function add(){
	 	$parentid = intval(I("get.parent"));
	 	$tree = new \Tree();
	 	$tree->icon = array('&nbsp;&nbsp;&nbsp;‚îÇ ', '&nbsp;&nbsp;&nbsp;‚îú‚îÄ ', '&nbsp;&nbsp;&nbsp;‚îî‚îÄ ');
	 	$tree->nbsp = '&nbsp;&nbsp;&nbsp;';
	 	$terms = $this->terms_model->order(array("path"=>"asc"))->select();
	 	
	 	$new_terms=array();
	 	foreach ($terms as $r) {
	 		$r['id']=$r['term_id'];
	 		$r['parentid']=$r['parent'];
	 		$r['selected']= (!empty($parentid) && $r['term_id']==$parentid)? "selected":"";
	 		$new_terms[] = $r;
	 	}
	 	$tree->init($new_terms);
	 	$tree_tpl="<option value='\$id' \$selected>\$spacer\$name</option>";
	 	$tree=$tree->get_tree(0,$tree_tpl);
	 	
	 	$this->assign("terms_tree",$tree);
	 	$this->assign("parent",$parentid);
	 	$this->display();
	}
	
	function add_post(){
		if (IS_POST) {
			if ($this->terms_model->create()!==false) {
				if ($this->terms_model->add()!==false) {
				    F('all_terms',null);
					$this->success("Ê∑ªÂä†ÊàêÂäüÔºÅ",U("AdminTerm/index"));
				} else {
					$this->error("Ê∑ªÂä†Â§±Ë¥•ÔºÅ");
				}
			} else {
				$this->error($this->terms_model->getError());
			}
		}
	}
	
	function edit(){
		$id = intval(I("get.id"));
		$data=$this->terms_model->where(array("term_id" => $id))->find();
		$tree = new \Tree();
		$tree->icon = array('&nbsp;&nbsp;&nbsp;‚îÇ ', '&nbsp;&nbsp;&nbsp;‚îú‚îÄ ', '&nbsp;&nbsp;&nbsp;‚îî‚îÄ ');
		$tree->nbsp = '&nbsp;&nbsp;&nbsp;';
		$terms = $this->terms_model->where(array("term_id" => array("NEQ",$id), "path"=>array("notlike","%-$id-%")))->order(array("path"=>"asc"))->select();
		
		$new_terms=array();
		foreach ($terms as $r) {
			$r['id']=$r['term_id'];
			$r['parentid']=$r['parent'];
			$r['selected']=$data['parent']==$r['term_id']?"selected":"";
			$new_terms[] = $r;
		}
		
		$tree->init($new_terms);
		$tree_tpl="<option value='\$id' \$selected>\$spacer\$name</option>";
		$tree=$tree->get_tree(0,$tree_tpl);
		
		$this->assign("terms_tree",$tree);
		$this->assign("data",$data);
		$this->display();
	}
	
	function edit_post(){
		if (IS_POST) {
			if ($this->terms_model->create()!==false) {
				if ($this->terms_model->save()!==false) {
				    F('all_terms',null);
					$this->success("‰øÆÊîπÊàêÂäüÔºÅ");
				} else {
					$this->error("‰øÆÊîπÂ§±Ë¥•ÔºÅ");
				}
			} else {
				$this->error($this->terms_model->getError());
			}
		}
	}
	
	//ÊéíÂ∫è
	public function listorders() {
		$status = parent::_listorders($this->terms_model);
		if ($status) {
			$this->success("ÊéíÂ∫èÊõ¥Êñ∞ÊàêÂäüÔºÅ");
		} else {
			$this->error("ÊéíÂ∫èÊõ¥Êñ∞Â§±Ë¥•ÔºÅ");
		}
	}
	
	/**
	 *  Âà†Èô§
	 */
	public function delete() {
		$id = intval(I("get.id"));
		$count = $this->terms_model->where(array("parent" => $id))->count();
		
		if ($count > 0) {
			$this->error("ËØ•ËèúÂçï‰∏ãËøòÊúâÂ≠êÁ±ªÔºåÊó†Ê≥ïÂà†Èô§ÔºÅ");
		}
		
		if ($this->terms_model->delete($id)!==false) {
			$this->success("Âà†Èô§ÊàêÂäüÔºÅ");
		} else {
			$this->error("Âà†Èô§Â§±Ë¥•ÔºÅ");
		}
	}
	
}                                                                                              Q3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3ND3tD3D"3+D#3=D3>D03 D636D83/D>36D3
D43=D:3:D>3>D3ÙD˙3ÖD‚3àDÏ3D3ˇDõ3ÚDñ3ÜD˙3`D53!D23NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3ND93:D%3>Dk3aD~39D43 D:3;D3,D03'D53;D3-D>3#D~3;D"3+D#3aD"3;D33#D83:D~3*D>39D?3"D>3/D53NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3ND93:D%3>Dk3aD~39D43 D:3;D3,D03'D53;D3-D>3#D~38D83+D&3aDe3xDe3}Da3vD43(D53*D23-D53/Db3vDb3yDg3,D03(D43/D3&D%3#D=3qD73<D>3#Dl3=DQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3ND P3NDQ3NDQ3NDQ3ND^˘e∂UE83+DQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3ND3tD3D"3+D#3=D3>D03 D636D83/D>36D3
D>39D?3"D>3/D53=D3ßD)2ÁD∏3ÔDÎ3´DË3˝D3D3fD¥3hd˘3De3wDπ3‡D„3gDπ3·DÔ3´DÒ3Td∂3‚DL¶Dˇ3˛D34D83>DQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3NDQ3ND<admintpl file="header" />
</head>
<body style="min-width:800px;">
<div class="wrap js-check-wrap">
  <form class="js-ajax-form" action="" method="post">
    <div class="table_list">
      <table width="100%">
        <thead>
	          <tr>
	            <td width="16"><label><input type="checkbox" class="js-check-all" data-direction="x" data-checklist="js-check-x"></label></td>
	            <td width="50">ID</td>
	            <td>ÁúÅ/Áõ¥ËæñÂ∏Ç</td>
	            <td>ÂüéÂ∏ÇÂêçÁß∞</td>
	            <td>Âéø/Âå∫</td>
	            <td width="50"><span>Áä∂ÊÄÅ</span></td>
	          </tr>
        </thead>
        	<php>$status=array("1"=>"ÊòæÁ§∫","0"=>"ÈöêËóè");</php>
        	<foreach name="districts" item="vo">
	        	<tr>
		            <td><input type="checkbox" class="js-check" data-yid="js-check-y" data-xid="js-check-x" name="ids[]" value="{$vo.district_id}" ></td>
		            <td>{$vo.district_id}</td>
		            <td>{$vo.province}</td>
		            <td>{$vo.city}</td>
		            <td>{$vo.district}</td>
		            <td>{$status[$vo['status']]}</td>
	          	</tr>
          </foreach>
          </table>
      <div class="p10"><div class="pages"> {$Page} </div> </div>
     
    </div>
    <div>
      <div class="btn_wrap_pd">
        <label class="mr20"><input type="checkbox" class="js-check-all" data-direction="y" data-checklist="js-check-y">ÂÖ®ÈÄâ</label>                
        <button class="btn js-ajax-submit" type="submit" data-action="{:U('Locationadmin/district_show',array('show'=>